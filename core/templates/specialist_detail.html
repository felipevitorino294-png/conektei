{% extends 'base.html' %}

{% block title %}{{ spec.user.first_name }} - Especialista{% endblock %}

{% block content %}
<div class="container" style="padding-top: 120px; padding-bottom: 80px;">
    
    <a href="{% url 'home' %}" style="color: #666; text-decoration: none; margin-bottom: 20px; display: inline-block;">
        <i class="fas fa-arrow-left"></i> Voltar para a lista
    </a>

    <div class="profile-layout">
        
        <aside class="profile-sidebar">
            <div class="profile-card-detail">
                <div class="profile-image-detail">
                    {% if spec.photo %}
                        <img src="{{ spec.photo.url }}" alt="{{ spec.user.first_name }}">
                    {% else %}
                        <div class="no-photo-detail"><i class="fas fa-user"></i></div>
                    {% endif %}
                </div>
                
                <h1 style="font-size: 1.5rem; margin-bottom: 5px; color: #333;">{{ spec.user.first_name }}</h1>
                <p style="color: #0056b3; font-weight: 600; margin-bottom: 20px;">{{ spec.get_profession_display }}</p>
                
                <div class="rating-box">
                    <i class="fas fa-star"></i> 5.0 <span>(Novo)</span>
                </div>

                <hr style="margin: 20px 0; border: 0; border-top: 1px solid #eee;">

                <div class="price-box">
                    <small>Valor da Consulta</small>
                    <strong>R$ {{ spec.price }}</strong>
                </div>

                {% if spec.phone %}
                    <a href="https://wa.me/55{{ spec.clean_phone }}?text=Olá, vi seu perfil no Conektei e gostaria de mais informações." target="_blank" class="btn-whatsapp">
                        <i class="fab fa-whatsapp"></i> Agendar Agora
                    </a>
                {% else %}
                    <button disabled class="btn-disabled" style="width: 100%; padding: 15px; border: none; border-radius: 10px; background: #ccc; color: white; font-weight: bold; cursor: not-allowed;">Indisponível</button>
                {% endif %}
            </div>
        </aside>

        <main class="profile-content">
            <div class="content-box">
                <h2>Sobre o Especialista</h2>
                <p class="bio-text">
                    {{ spec.description|default:"Este especialista ainda não adicionou uma descrição detalhada."|linebreaks }}
                </p>

                <div class="info-grid">
                    <div class="info-item">
                        <i class="fas fa-video"></i>
                        <div>
                            <strong>Atendimento Online</strong>
                            <span>Via Google Meet ou Zoom</span>
                        </div>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-clock"></i>
                        <div>
                            <strong>Duração Média</strong>
                            <span>50 minutos</span>
                        </div>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-language"></i>
                        <div>
                            <strong>Idiomas</strong>
                            <span>Português</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>

    </div>
</div>

<style>
    .profile-layout {
        display: grid;
        grid-template-columns: 350px 1fr;
        gap: 40px;
    }

    @media (max-width: 768px) {
        .profile-layout { grid-template-columns: 1fr; }
    }

    .profile-card-detail, .content-box {
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.05);
    }

    .profile-sidebar { text-align: center; }

    .profile-image-detail {
        width: 150px; height: 150px; margin: 0 auto 20px;
        border-radius: 50%; overflow: hidden; border: 5px solid #f4f7f6;
    }
    .profile-image-detail img { width: 100%; height: 100%; object-fit: cover; }
    .no-photo-detail { 
        width: 100%; height: 100%; background: #ddd; 
        display: flex; align-items: center; justify-content: center; 
        font-size: 3rem; color: #999; 
    }

    .rating-box {
        background: #fff8e1; color: #f1c40f; padding: 5px 15px;
        border-radius: 20px; display: inline-block; font-weight: bold;
    }
    .rating-box span { color: #666; font-weight: normal; font-size: 0.9rem; }

    .price-box { margin-bottom: 20px; }
    .price-box small { display: block; color: #999; text-transform: uppercase; font-size: 0.8rem; }
    .price-box strong { font-size: 2rem; color: #333; }

    .btn-whatsapp {
        display: block; background: #25D366; color: white;
        padding: 15px; border-radius: 10px; text-decoration: none;
        font-weight: bold; transition: 0.3s;
    }
    .btn-whatsapp:hover { background: #1ebc57; transform: translateY(-2px); }

    .content-box h2 { color: #0056b3; margin-bottom: 20px; border-bottom: 2px solid #eef6fc; padding-bottom: 10px; }
    .bio-text { font-size: 1.1rem; line-height: 1.8; color: #555; margin-bottom: 40px; }

    .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
    .info-item { display: flex; align-items: center; gap: 15px; background: #f9f9f9; padding: 15px; border-radius: 10px; }
    .info-item i { font-size: 1.5rem; color: #0056b3; }
    .info-item div { display: flex; flex-direction: column; }
</style>
{% endblock %}